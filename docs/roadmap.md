# ScaffAI 開発ロードマップ

## プロジェクト概要
ScaffAIは足場計算・設計プラットフォームとして、建設現場とオフィス間のリアルタイム同期を実現するモバイル・Webアプリケーションです。

## 開発フェーズと期間

### フェーズ1: モバイルMVP（2週間）
**期間**: Week 1-2  
**目標**: 足場計算機能を持つモバイルアプリのMVP完成

#### Week 1: コア機能実装
- [ ] **Day 1-2**: 認証システム強化
  - [ ] 認証フローのバグ修正とUX改善
  - [ ] AuthGuardの完全実装
  - [ ] セッション管理の最適化
  
- [ ] **Day 3-4**: 足場計算エンジン統合
  - [ ] @scaffai/scaffold-engineとモバイルUIの接続
  - [ ] 計算結果表示画面の完成
  - [ ] 入力フォームのバリデーション強化
  
- [ ] **Day 5**: データ永続化
  - [ ] Supabaseデータベースとの完全統合
  - [ ] プロジェクト保存・読み込み機能
  - [ ] リアルタイム同期の基礎実装

#### Week 2: MVP完成とテスト
- [ ] **Day 6-7**: UI/UX仕上げ
  - [ ] NativeWindを使用したデザイン統一
  - [ ] レスポンシブ対応
  - [ ] アニメーション追加
  
- [ ] **Day 8-9**: 機能テスト
  - [ ] 計算精度の検証
  - [ ] パフォーマンステスト
  - [ ] デバイス互換性確認
  
- [ ] **Day 10**: リリース準備
  - [ ] EAS Build設定の最終確認
  - [ ] TestFlight/内部テスト配信
  - [ ] フィードバック収集体制構築

### フェーズ2: Web版MVP（2週間）
**期間**: Week 3-4  
**目標**: モバイルと同期するWeb版MVPの完成

#### Week 3: Web版コア実装
- [ ] **Day 11-12**: 認証・データ同期
  - [ ] モバイルと同じSupabase認証実装
  - [ ] クロスプラットフォーム認証状態同期
  - [ ] データ同期の動作確認
  
- [ ] **Day 13-14**: 計算機能移植
  - [ ] @scaffai/scaffold-engineのWeb統合
  - [ ] Radix UIを使用した計算フォーム
  - [ ] 結果表示とエクスポート機能
  
- [ ] **Day 15**: 図面・描画機能
  - [ ] Konva.js基本描画機能
  - [ ] グリッドとスナップ機能
  - [ ] 基本図形描画ツール

#### Week 4: Web版完成
- [ ] **Day 16-17**: 高度な図面機能
  - [ ] DXF読み込み機能
  - [ ] PDF出力機能
  - [ ] 図面データのリアルタイム同期
  
- [ ] **Day 18-19**: テストと最適化
  - [ ] パフォーマンス最適化
  - [ ] アクセシビリティ対応
  - [ ] クロスブラウザテスト
  
- [ ] **Day 20**: デプロイとテスト
  - [ ] Vercelプロダクションデプロイ
  - [ ] モバイル・Web間同期テスト
  - [ ] ユーザーテストとフィードバック

### フェーズ3: 機能拡張（4週間）
**期間**: Week 5-8  
**目標**: プロダクト機能の充実

#### Week 5-6: 高度な計算機能
- [ ] **Advanced Calculation Engine**
  - [ ] 複雑な足場形状対応
  - [ ] 安全係数計算
  - [ ] 材料最適化アルゴリズム
  - [ ] コスト計算機能
  
- [ ] **Collaboration Features**
  - [ ] マルチユーザー編集
  - [ ] コメント・注釈機能
  - [ ] 変更履歴管理
  - [ ] 権限管理システム

#### Week 7-8: 高度なUI/UX
- [ ] **Advanced Drawing Tools**
  - [ ] 3D可視化（検討中）
  - [ ] レイヤー管理
  - [ ] 寸法線自動生成
  - [ ] テンプレートシステム
  
- [ ] **Mobile Enhancement**
  - [ ] オフライン対応強化
  - [ ] カメラ統合（現場写真）
  - [ ] GPS連携機能
  - [ ] プッシュ通知

### フェーズ4: 運用・最適化（継続）
**期間**: Week 9以降  
**目標**: 本格運用と継続改善

- [ ] **Performance Optimization**
  - [ ] バンドルサイズ最適化
  - [ ] データベースクエリ最適化
  - [ ] CDN設定とキャッシュ戦略
  
- [ ] **Analytics & Monitoring**
  - [ ] ユーザー行動分析
  - [ ] エラー監視システム
  - [ ] パフォーマンス監視
  
- [ ] **Security & Compliance**
  - [ ] セキュリティ監査
  - [ ] データプライバシー対応
  - [ ] バックアップ・災害復旧

## 技術的優先事項

### 必須対応事項
1. **TypeScript型安全性**: 全パッケージでstrict mode適用
2. **リアルタイム同期**: Supabaseリアルタイム機能の完全活用
3. **オフライン対応**: 最低限のローカルストレージ実装
4. **パフォーマンス**: 初期ロード3秒以内、60fps維持

### 品質管理
- 各フェーズ終了時にコードレビュー実施
- `pnpm lint` `pnpm typecheck` 常時クリア
- E2Eテストカバレッジ70%以上維持
- アクセシビリティWCAG 2.1 AA準拠

## リスク管理

### 技術的リスク
- **Expo SDK更新**: 定期的な依存関係メンテナンス
- **Supabase制限**: データ量・リクエスト数の監視
- **パフォーマンス**: 大規模データでの動作確認

### スケジュールリスク
- **MVPスコープクリープ**: 必要最小限機能に集中
- **技術的債務**: リファクタリング時間を計画的に確保
- **テスト不足**: 自動テスト導入を優先

## 成功指標

### モバイルMVP (Week 2)
- [ ] 基本的な足場計算が正常動作
- [ ] 認証・データ保存が安定動作  
- [ ] TestFlightで内部テスト可能

### Web版MVP (Week 4)  
- [ ] モバイルと同等の計算機能
- [ ] 図面描画基本機能
- [ ] クロスプラットフォーム同期確認

### 運用準備 (Week 8)
- [ ] 本格ユーザーテスト完了
- [ ] セキュリティ・パフォーマンス基準クリア
- [ ] 運用監視体制構築